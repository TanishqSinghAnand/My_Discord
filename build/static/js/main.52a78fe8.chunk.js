(this.webpackJsonpdiscord=this.webpackJsonpdiscord||[]).push([[0],{77:function(e,n,c){},83:function(e,n,c){},84:function(e,n,c){},85:function(e,n,c){},88:function(e,n,c){},93:function(e,n,c){},94:function(e,n,c){},96:function(e,n,c){},97:function(e,n,c){"use strict";c.r(n);var s=c(2),a=c.n(s),t=c(21),i=c.n(t),r=(c(77),c(17)),l=(c(83),c(24)),o=(c(84),c(85),c(48)),d=c.n(o),j=c(53),b=c.n(j),h=c(54),u=c.n(h),m=c(55),O=c.n(m),x=c(56),p=c.n(x),f=c(57),v=c.n(f),g=c(3);var _=function(e){var n,c=e.channelName;return Object(g.jsxs)("div",{className:"chatHeader",children:[Object(g.jsx)("div",{className:"chatHeader__left",children:Object(g.jsxs)("h3",{children:[Object(g.jsx)("span",{className:"chatHeader__hash",children:"#"}),Object(g.jsx)("span",{style:{textOverflow:"ellipsis"},children:(n=c,(null===n||void 0===n?void 0:n.length)>70?(null===n||void 0===n?void 0:n.substring(0,70))+"...":n)})]})}),Object(g.jsxs)("div",{className:"chatHeader__right",children:[Object(g.jsx)(d.a,{}),Object(g.jsx)(b.a,{}),Object(g.jsx)(u.a,{}),Object(g.jsxs)("div",{className:"chatHeader__search",children:[Object(g.jsx)("input",{placeholder:"Search"}),Object(g.jsx)(O.a,{})]}),Object(g.jsx)(p.a,{}),Object(g.jsx)(v.a,{})]})]})},N=c(58),I=c.n(N),S=c(59),y=c.n(S),C=c(60),w=c.n(C),k=c(61),D=c.n(k),z=c(113);c(88);var A=function(e){var n=e.timestamp,c=e.user,s=e.message;return Object(g.jsxs)("div",{className:"message",children:[Object(g.jsx)(z.a,{src:c.photo}),Object(g.jsxs)("div",{className:"message__info",children:[Object(g.jsxs)("h4",{children:[c.displayName,Object(g.jsx)("span",{className:"message__timestamp",children:new Date(null===n||void 0===n?void 0:n.toDate()).toUTCString()})]}),Object(g.jsx)("p",{className:"msg",children:s})]})]})},H=c(28),T=Object(H.b)({name:"app",initialState:{channelId:null,channelName:null},reducers:{setChannelInfo:function(e,n){e.channelId=n.payload.channelId,e.channelName=n.payload.channelName}}}),B=T.actions.setChannelInfo,E=function(e){return e.app.channelId},L=function(e){return e.app.channelName},M=T.reducer,P=Object(H.b)({name:"user",initialState:{user:null},reducers:{login:function(e,n){e.user=n.payload},logout:function(e){e.user=null}}}),U=P.actions,J=U.login,Q=U.logout,R=function(e){return e.user.user},V=P.reducer,W=c(30),F=W.a.initializeApp({apiKey:"AIzaSyDYIPoI-ByCn9XDiqi73RQt9E3iQMKraAA",authDomain:"my-discord-54eb7.firebaseapp.com",databaseURL:"https://my-discord-54eb7.firebaseio.com",projectId:"my-discord-54eb7",storageBucket:"my-discord-54eb7.appspot.com",messagingSenderId:"77945904371",appId:"1:77945904371:web:c9532b6b117b294baceb86",measurementId:"G-J4V4LTHTQL"}).firestore(),G=W.a.auth(),K=new W.a.auth.GoogleAuthProvider,q=F;var X=function(){var e=Object(r.c)(E),n=Object(r.c)(R),c=Object(r.c)(L),a=Object(s.useState)(""),t=Object(l.a)(a,2),i=t[0],o=t[1],d=Object(s.useState)([]),j=Object(l.a)(d,2),b=j[0],h=j[1];return Object(s.useEffect)((function(){e&&q.collection("channels").doc(e).collection("messages").orderBy("timestamp","asc").onSnapshot((function(e){return h(e.docs.map((function(e){return e.data()})))}))}),[e]),Object(g.jsxs)("div",{className:"chat",children:[Object(g.jsx)(_,{channelName:c}),Object(g.jsx)("div",{className:"chat__messages",children:b.map((function(e){return Object(g.jsx)(A,{timestamp:e.timestamp,message:e.message,user:e.user})}))}),Object(g.jsxs)("div",{className:"chat__input",children:[Object(g.jsx)(I.a,{fontSize:"large"}),Object(g.jsxs)("form",{children:[Object(g.jsx)("input",{value:i,disabled:!e,onChange:function(e){return o(e.target.value)},placeholder:" Message #".concat(c," ")}),Object(g.jsx)("button",{onClick:function(c){c.preventDefault(),i.trim().length>0?(q.collection("channels").doc(e).collection("messages").add({timestamp:W.a.firestore.FieldValue.serverTimestamp(),message:i,user:n}),o("")):alert("Please enter a message")},className:"chat__inputButton",type:"submit",children:"Send Message"})]}),Object(g.jsxs)("div",{className:"chat__inputIcons",children:[Object(g.jsx)(y.a,{fontSize:"large"}),Object(g.jsx)(w.a,{fontSize:"large"}),Object(g.jsx)(D.a,{fontSize:"large"})]})]})]})},Y=(c(93),c(45)),$=c.n(Y),Z=c(64),ee=c.n(Z);c(94);var ne=function(e){var n,c=e.id,s=e.channelName,a=Object(r.b)();return Object(g.jsx)("div",{className:"sidebarChannel channel__name",onClick:function(){return a(B({channelId:c,channelName:s}))},children:Object(g.jsx)("h4",{children:Object(g.jsxs)("div",{children:[Object(g.jsx)("span",{className:"sidebarChannel__hash",children:"#"}),Object(g.jsx)("span",{style:{textOverflow:"ellipsis"},children:(n=s,(null===n||void 0===n?void 0:n.length)>25?(null===n||void 0===n?void 0:n.substring(0,25))+"...":n)})]})})})},ce=c(65),se=c.n(ce),ae=c(66),te=c.n(ae),ie=c(67),re=c.n(ie),le=c(68),oe=c.n(le),de=c(69),je=c.n(de),be=c(70),he=c.n(be),ue=(c(95),c(62));var me=function(){var e=Object(r.c)(R),n=Object(s.useState)([]),c=Object(l.a)(n,2),a=c[0],t=c[1],i=Object(s.useState)(!1),o=Object(l.a)(i,2),d=o[0],j=o[1],b=Object(s.useState)(""),h=Object(l.a)(b,2),u=(h[0],h[1]);return Object(s.useEffect)((function(){q.collection("channels").onSnapshot((function(e){return t(e.docs.map((function(e){return{id:e.id,channel:e.data()}})))}))}),[]),Object(g.jsxs)("div",{className:"sidebar",children:[Object(g.jsxs)("div",{className:"sidebar__top",children:[Object(g.jsx)("h3",{children:"Techny Teams"}),Object(g.jsx)($.a,{})]}),Object(g.jsxs)("div",{className:"sidebar__channels",children:[Object(g.jsxs)("div",{className:"sidebar__channelsHeader",children:[Object(g.jsxs)("div",{className:"sidebar__header",children:[Object(g.jsx)($.a,{}),Object(g.jsx)("h4",{children:"Text Channel"})]}),Object(g.jsx)(ee.a,{onClick:function(){j(!0)},className:"sidebar__addChannel"})]}),Object(g.jsx)("div",{className:"sidebar__channelsList",children:a.map((function(e){var n=e.id,c=e.channel;return Object(g.jsx)(ne,{id:n,channelName:c.channelName},n)}))})]}),Object(g.jsxs)("div",{className:"sidebar__voice",children:[Object(g.jsx)(se.a,{className:"sidebar__voiceIcon",fontSize:"large"}),Object(g.jsxs)("div",{className:"sidebar__voiceInfo",children:[Object(g.jsx)("h3",{children:"Voice Connected"}),Object(g.jsx)("p",{children:"Stream"})]}),Object(g.jsxs)("div",{className:"sidebar__voiceIcons",children:[Object(g.jsx)(te.a,{}),Object(g.jsx)(re.a,{})]})]}),Object(g.jsxs)("div",{className:"sidebar__profile",children:[Object(g.jsx)(z.a,{onClick:function(){return G.signOut()},src:e.photo}),Object(g.jsxs)("div",{className:"sidebar__profileInfo",children:[Object(g.jsx)("h3",{children:e.displayName}),Object(g.jsxs)("p",{children:["#",e.uid.substring(0,5)]})]}),Object(g.jsxs)("div",{className:"sidebar__profileIcons",children:[Object(g.jsx)(oe.a,{}),Object(g.jsx)(je.a,{}),Object(g.jsx)(he.a,{})]})]}),Object(g.jsxs)(ue.a,{open:d,onClose:function(){j(!1)},children:[Object(g.jsx)("input",{onChange:function(e){u(e),console.log(e)},type:"text",placeholder:"Enter name",id:""}),Object(g.jsx)("button",{onClick:d,children:" Add "})]})]})},Oe=(c(96),c(112));var xe=function(){return Object(g.jsxs)("div",{className:"login",children:[Object(g.jsx)("div",{className:"login__logo",children:Object(g.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/en/thumb/9/98/Discord_logo.svg/2000px-Discord_logo.svg.png",alt:"Discord Logo"})}),Object(g.jsx)(Oe.a,{onClick:function(){G.signInWithPopup(K).catch((function(e){return alert(e.message)}))},children:"Sign In"})]})};var pe=function(){var e=Object(r.b)(),n=Object(r.c)(R);return Object(s.useEffect)((function(){G.onAuthStateChanged((function(n){console.log("User is ----------\x3e",n),e(n?J({uid:n.uid,photo:n.photoURL,email:n.email,displayName:n.displayName}):Q())}))}),[e]),Object(g.jsx)("div",{className:"app",children:n?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(me,{}),Object(g.jsx)(X,{})]}):Object(g.jsx)(xe,{})})},fe=Object(H.a)({reducer:{user:V,app:M}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(r.a,{store:fe,children:Object(g.jsx)(pe,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[97,1,2]]]);
//# sourceMappingURL=main.52a78fe8.chunk.js.map