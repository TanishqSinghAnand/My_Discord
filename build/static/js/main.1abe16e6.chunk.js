(this.webpackJsonpdiscord=this.webpackJsonpdiscord||[]).push([[0],{71:function(e,n,c){},75:function(e,n,c){},76:function(e,n,c){},77:function(e,n,c){},79:function(e,n,c){},83:function(e,n,c){},84:function(e,n,c){},85:function(e,n,c){},86:function(e,n,c){"use strict";c.r(n);var s=c(3),a=c(2),t=c.n(a),i=c(21),r=c.n(i),l=(c(71),c(14)),o=(c(75),c(31)),d=(c(76),c(77),c(44)),j=c.n(d),b=c(48),h=c.n(b),u=c(49),m=c.n(u),O=c(50),p=c.n(O),x=c(51),v=c.n(x),f=c(52),g=c.n(f);var _=function(e){var n,c=e.channelName;return Object(s.jsxs)("div",{className:"chatHeader",children:[Object(s.jsx)("div",{className:"chatHeader__left",children:Object(s.jsxs)("h3",{children:[Object(s.jsx)("span",{className:"chatHeader__hash",children:"#"}),Object(s.jsx)("span",{style:{textOverflow:"ellipsis"},children:(n=c,(null===n||void 0===n?void 0:n.length)>70?(null===n||void 0===n?void 0:n.substring(0,70))+"...":n)})]})}),Object(s.jsxs)("div",{className:"chatHeader__right",children:[Object(s.jsx)(j.a,{}),Object(s.jsx)(h.a,{}),Object(s.jsx)(m.a,{}),Object(s.jsxs)("div",{className:"chatHeader__search",children:[Object(s.jsx)("input",{placeholder:"Search"}),Object(s.jsx)(p.a,{})]}),Object(s.jsx)(v.a,{}),Object(s.jsx)(g.a,{})]})]})},N=c(53),I=c.n(N),y=c(54),S=c.n(y),w=c(55),C=c.n(w),k=c(56),D=c.n(k),z=c(100);c(79);var H=function(e){var n=e.timestamp,c=e.user,a=e.message;return Object(s.jsxs)("div",{className:"message",children:[Object(s.jsx)(z.a,{src:c.photo}),Object(s.jsxs)("div",{className:"message__info",children:[Object(s.jsxs)("h4",{children:[c.displayName,Object(s.jsx)("span",{className:"message__timestamp",children:new Date(null===n||void 0===n?void 0:n.toDate()).toUTCString()})]}),Object(s.jsx)("p",{className:"msg",children:a})]})]})},T=c(23),A=Object(T.b)({name:"app",initialState:{channelId:null,channelName:null},reducers:{setChannelInfo:function(e,n){e.channelId=n.payload.channelId,e.channelName=n.payload.channelName}}}),B=A.actions.setChannelInfo,E=function(e){return e.app.channelId},L=function(e){return e.app.channelName},M=A.reducer,U=Object(T.b)({name:"user",initialState:{user:null},reducers:{login:function(e,n){e.user=n.payload},logout:function(e){e.user=null}}}),J=U.actions,P=J.login,Q=J.logout,R=function(e){return e.user.user},V=U.reducer,W=c(25),F=W.a.initializeApp({apiKey:"AIzaSyDYIPoI-ByCn9XDiqi73RQt9E3iQMKraAA",authDomain:"my-discord-54eb7.firebaseapp.com",databaseURL:"https://my-discord-54eb7.firebaseio.com",projectId:"my-discord-54eb7",storageBucket:"my-discord-54eb7.appspot.com",messagingSenderId:"77945904371",appId:"1:77945904371:web:c9532b6b117b294baceb86",measurementId:"G-J4V4LTHTQL"}).firestore(),G=W.a.auth(),K=new W.a.auth.GoogleAuthProvider,q=F;var X=function(){var e=Object(l.c)(E),n=Object(l.c)(R),c=Object(l.c)(L),t=Object(a.useState)(""),i=Object(o.a)(t,2),r=i[0],d=i[1],j=Object(a.useState)([]),b=Object(o.a)(j,2),h=b[0],u=b[1];return Object(a.useEffect)((function(){e&&q.collection("channels").doc(e).collection("messages").orderBy("timestamp","asc").onSnapshot((function(e){return u(e.docs.map((function(e){return e.data()})))}))}),[e]),Object(s.jsxs)("div",{className:"chat",children:[Object(s.jsx)(_,{channelName:c}),Object(s.jsx)("div",{className:"chat__messages",children:h.map((function(e){return Object(s.jsx)(H,{timestamp:e.timestamp,message:e.message,user:e.user})}))}),Object(s.jsxs)("div",{className:"chat__input",children:[Object(s.jsx)(I.a,{fontSize:"large"}),Object(s.jsxs)("form",{children:[Object(s.jsx)("input",{value:r,disabled:!e,onChange:function(e){return d(e.target.value)},placeholder:" Message #".concat(c," ")}),Object(s.jsx)("button",{onClick:function(c){c.preventDefault(),q.collection("channels").doc(e).collection("messages").add({timestamp:W.a.firestore.FieldValue.serverTimestamp(),message:r,user:n}),d("")},className:"chat__inputButton",type:"submit",children:"Send Message"})]}),Object(s.jsxs)("div",{className:"chat__inputIcons",children:[Object(s.jsx)(S.a,{fontSize:"large"}),Object(s.jsx)(C.a,{fontSize:"large"}),Object(s.jsx)(D.a,{fontSize:"large"})]})]})]})},Y=(c(83),c(37)),$=c.n(Y),Z=c(57),ee=c.n(Z);c(84);var ne=function(e){var n,c=e.id,a=e.channelName,t=Object(l.b)();return Object(s.jsx)("div",{className:"sidebarChannel channel__name",onClick:function(){return t(B({channelId:c,channelName:a}))},children:Object(s.jsx)("h4",{children:Object(s.jsxs)("div",{children:[Object(s.jsx)("span",{className:"sidebarChannel__hash",children:"#"}),Object(s.jsx)("span",{style:{textOverflow:"ellipsis"},children:(n=a,(null===n||void 0===n?void 0:n.length)>25?(null===n||void 0===n?void 0:n.substring(0,25))+"...":n)})]})})})},ce=c(58),se=c.n(ce),ae=c(59),te=c.n(ae),ie=c(60),re=c.n(ie),le=c(61),oe=c.n(le),de=c(62),je=c.n(de),be=c(63),he=c.n(be);var ue=function(){var e=Object(l.c)(R),n=Object(a.useState)([]),c=Object(o.a)(n,2),t=c[0],i=c[1];return Object(a.useEffect)((function(){q.collection("channels").onSnapshot((function(e){return i(e.docs.map((function(e){return{id:e.id,channel:e.data()}})))}))}),[]),Object(s.jsxs)("div",{className:"sidebar",children:[Object(s.jsxs)("div",{className:"sidebar__top",children:[Object(s.jsx)("h3",{children:"Techny Teams"}),Object(s.jsx)($.a,{})]}),Object(s.jsxs)("div",{className:"sidebar__channels",children:[Object(s.jsxs)("div",{className:"sidebar__channelsHeader",children:[Object(s.jsxs)("div",{className:"sidebar__header",children:[Object(s.jsx)($.a,{}),Object(s.jsx)("h4",{children:"Text Channel"})]}),Object(s.jsx)(ee.a,{onClick:function(){var n=prompt("Enter a new channel name");n&&q.collection("channels").add({channelName:n,admin:e.displayName})},className:"sidebar__addChannel"})]}),Object(s.jsx)("div",{className:"sidebar__channelsList",children:t.map((function(e){var n=e.id,c=e.channel;return Object(s.jsx)(ne,{id:n,channelName:c.channelName},n)}))})]}),Object(s.jsxs)("div",{className:"sidebar__voice",children:[Object(s.jsx)(se.a,{className:"sidebar__voiceIcon",fontSize:"large"}),Object(s.jsxs)("div",{className:"sidebar__voiceInfo",children:[Object(s.jsx)("h3",{children:"Voice Connected"}),Object(s.jsx)("p",{children:"Stream"})]}),Object(s.jsxs)("div",{className:"sidebar__voiceIcons",children:[Object(s.jsx)(te.a,{}),Object(s.jsx)(re.a,{})]})]}),Object(s.jsxs)("div",{className:"sidebar__profile",children:[Object(s.jsx)(z.a,{onClick:function(){return G.signOut()},src:e.photo}),Object(s.jsxs)("div",{className:"sidebar__profileInfo",children:[Object(s.jsx)("h3",{children:e.displayName}),Object(s.jsxs)("p",{children:["#",e.uid.substring(0,5)]})]}),Object(s.jsxs)("div",{className:"sidebar__profileIcons",children:[Object(s.jsx)(oe.a,{}),Object(s.jsx)(je.a,{}),Object(s.jsx)(he.a,{})]})]})]})},me=(c(85),c(99));var Oe=function(){return Object(s.jsxs)("div",{className:"login",children:[Object(s.jsx)("div",{className:"login__logo",children:Object(s.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/en/thumb/9/98/Discord_logo.svg/2000px-Discord_logo.svg.png",alt:"Discord Logo"})}),Object(s.jsx)(me.a,{onClick:function(){G.signInWithPopup(K).catch((function(e){return alert(e.message)}))},children:"Sign In"})]})};var pe=function(){var e=Object(l.b)(),n=Object(l.c)(R);return Object(a.useEffect)((function(){G.onAuthStateChanged((function(n){console.log("User is ----------\x3e",n),e(n?P({uid:n.uid,photo:n.photoURL,email:n.email,displayName:n.displayName}):Q())}))}),[e]),Object(s.jsx)("div",{className:"app",children:n?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(ue,{}),Object(s.jsx)(X,{})]}):Object(s.jsx)(Oe,{})})},xe=Object(T.a)({reducer:{user:V,app:M}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(s.jsx)(t.a.StrictMode,{children:Object(s.jsx)(l.a,{store:xe,children:Object(s.jsx)(pe,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[86,1,2]]]);
//# sourceMappingURL=main.1abe16e6.chunk.js.map